The code currently uses window size of 3 blocks and 2 global blocks.