XLA compilation will happen implicitly on TPU, so remember to remove that line before actually running your code on a TPU!

How do I make my model XLA compatible?
In many cases, your code is probably XLA-compatible already! However, there are a few things that work in normal TensorFlow that donâ€™t work in XLA. Weâ€™ve distilled them into three core rules below:

ðŸ¤—Specific HuggingFace TipðŸ¤—: Weâ€™ve put a lot of effort into rewriting our TensorFlow models and loss functions to be XLA-compatible.